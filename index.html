<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Spherical Voronoi Diagram Pedagogical Aid</title>
		<style>
			body { margin: 1; }
			table, th, td {
				border: 1px solid black;
			}
		</style>
	</head>
	<body>
		<script src="js/p5.js"></script>
		<script src="point.js"></script>
		<script src="cross.js"></script>
		<script src="common-tangent.js"></script>
		<script src="convex-hull.js"></script>
		<script src="qtest.js"></script>
		<script src="delaunay.js"></script>
		<script src="rotate.js"></script>
		<script src="main.js"></script>


		<h1>Spherical Voronoi Diagram Pedagogical Aid</h1>
		
		<h2>Team Members</h2>
		<p>Dominick Banasik</p>
		
		<h2>Description</h2>
		<p>
			This webpage will serve as a pedagogical aid for the construction of a Voronoi Diagram
			on a spherical surface. It will show a step-by-step progression of the algorithm that
			computes the result, highlighting the part of the algorithm currently being executed and
			animating the process simultaneously.
		</p>
    
	    <h2>Background</h2>
	    <p>
	      In a plane, given a set of sites, the Voronoi Diagram is a partition of the plane into
	      regions such that the closest site to any given point in a region is the site that lies in
	      the same region. In the case of a sphere, the partition would similarly divide the surface
	      of the sphere into regions. While the planar version can be used to help you find the nearest
	      post office in a city, where the area of the city is approximately flat, the spherical diagram
	      can point you to the nearest airport on Earth, since large areas without airports can no
	      longer be approximated with a plane.
	    </p>

		<div style="width: 100%;">
			<div id="sphere" style="width: 50%; float: left;"></div>
			<div id="projection" style="width: 50%; float: right;"></div>	
		</div>

		<div>
			<button onclick="rotateX()">Rotate X</button>
			<button onclick="rotateY()">Rotate Y</button>
			<button onclick="rotateZ()">Rotate Z</button>
		</div>

		<br>

		<div>
			<button id="rangeValue" style="display: inline;" onclick="generate(range.value)">Generate 25 random points</button>
			<input id="range" type="range" min="10" max="40" oninput="rangeValue.innerText = 'Generate ' + value + ' random points'">
		</div>

		<br>

		<div>
			<button onclick="first()">First</button>
			<button onclick="previous()">Previous</button>
			<button onclick="next()">Next</button>
			<button onclick="last()">Last</button>
		</div>

		<pre>
			<code>
given points
rotatedPoints = []
projectedPoints = []

theta, phi = angleToNorthPole(points[0])

for point in points:
	rotatedPoint = point.rotate(theta, phi)
	rotatedPoints.add(rotatedPoint)

for point in rotatedPoints[1:]:
	projectedPoint = point.project()
	projectedPoints.add(projectedPoint)

projectedPoints.sort()
delaunay = delaunay(projectedPoints)
hull = delaunay.hull

for point in hull:
	point.neighbors.add(points[0])
	points[0].neighbors.add(point)

for point in points:
	for neighbor in point.neighbors:
		circumcenter = circumcenter(point, neighbor, neighbor.successor, origin)
		point.vertices.add(circumcenter)
	drawPolygon(point.vertices)
			</code>
		</pre>

	    <h2>Timeline</h2>
		<table>
			<tr>
				<td>Week</td>
				<td>Plans</td>
			</tr>
			<tr>
				<td>4</td>
				<td>Complete project proposal and webpage.</td>
			</tr>
			<tr>
				<td>5</td>
				<td>Research Voronoi Diagrams and Delaunay Triangulations on a plane.</td>
			</tr>
			<tr>
				<td>6</td>
				<td>Research Voronoi Diagrams and Delaunay Triangulations on a sphere. Prepare and present an overview of the project.</td>
			</tr>
			<tr>
				<td>7</td>
        <td>Begin implementing algorithms.</td>
			</tr>
			<tr>
				<td>8</td>
        <td>Continue implementing algorithms and visualizations of them.</td>
			</tr>
			<tr>
				<td>9</td>
        <td>Finish implementing algorithms. Add pseudocode to webpage.</td>
			</tr>
			<tr>
				<td>10</td>
				<td>Look into ways of stepping through the algorithm. Prepare and present the accomplishments of the project so far.</td>
			</tr>
			<tr>
				<td>11</td>
        <td>Begin interactive step-through feature of algorithm.</td>
			</tr>
			<tr>
				<td>12</td>
        <td>Finish interactive step-through feature of algorithm.</td>
			</tr>
			<tr>
				<td>13</td>
        <td>Add highlighting to the current step in the pseudocode and any features that would improve the webpage as an aid.</td>
			</tr>
			<tr>
				<td>14</td>
				<td>Fix any remaining bugs. Enhance the interactive experience. Prepare the final webpage and presentation.</td>
			</tr>
      <tr>
        <td>15</td>
        <td>Present and submit the final webpage.</td>
      </tr>
		</table>

		<h2>References</h2>
		<ul>
			<li><a href="https://www.jasondavies.com/maps/voronoi/">Inspiration for this Project</a></li>
			<li><a href="https://www.redblobgames.com/x/1842-delaunay-voronoi-sphere/">Delaunay and Voronoi on a Sphere</a></li>
    		<li><a href="https://www.youtube.com/watch?v=zaGd5tXkCnE">Talk on Scipy Spherical Voronoi Diagrams</a></li>
    		<li><a href="http://www.personal.psu.edu/cxc11/AERSP560/DELAUNEY/13_Two_algorithms_Delauney.pdf">Algorithms for Delaunay Triangulations</a></li>
		</ul>
	</body>
</html>
